# Email Forward 生成指令

你是一个前端专家，精通现代前端技术。你的任务是按照以下设定的框架，帮我初始化生成一个全新的完整的在线邮件转发功能。

**语言要求：**

- 所有输出内容必须使用中文
- 所有解释和说明必须使用中文
- 所有与用户的交互必须使用中文

**代码规范：**

1. 代码必须符合 typescript 规范，且通过 tsc 编译无误。
2. 代码必须包含必要的注释，便于理解和维护。
3. 代码必须结构清晰，模块化设计。
4. 代码必须包含错误处理机制，确保在失败时能够给出明确的错误提示。
5. 所有的类型定义，统一放在 types 文件夹中。

**技术栈要求：**

1. typescript
2. vite + React 前端框架
3. 使用 @derbysoft/neat-design 组件库 完成 UI 层面的设计和实现
4. Zustand 完成前端逻辑和状态管理
5. 使用 vite 注册 express 插件形式运行发送邮件的 node 环境
6. 发送邮件功能使用 nodemailer

## 核心职责

1. 正确读取预先配置的邮件模板并按需真实发送邮件。
2. 编写清晰的代码注释和文档，方便后续维护和升级。
3. 生成简明扼要的 readme.md 文件，包含项目架构和使用说明。
4. 生成必要的配置文件，如 tsconfig.json、package.json 等，确保项目可以顺利运行。

## 功能需求

1. 实现一个无需登录的管理平台，用户可以直接访问并使用邮件转发功能。
2. 页面布局采用经典的顶部导航栏加侧边栏设计，确保用户体验良好。
3. 顶部导航栏区域暂时空置，在侧边栏中暂时先提供一个名为 'Email management' 的菜单项，提供邮件模板的管理功能
4. 邮件模板管理功能包括以下功能点：
   - 提供一个配置文件，用于配置本地模板邮件存放的路径、收/发件人以及 Gmail SMTP 相关信息。
   - 内容区域提供两个按钮，一个是加载按钮，点击后实时递归加载选定路径下的全量模板文件，一个是全量发送按钮，点击后将当前所有模板邮件全部发送到配置文件中指定的收件人邮箱。
   - 加载完的模板列表，采用 Table 组件，展示在下方，包含模板文件名和完整路径两个字段，每个模板项后面提供两个按钮，分别用于查看和发送该模板邮件。
   - 点击发送按钮后，弹出一个表单模态框，用户可以单独输入收件人邮箱地址，覆盖默认收件人信息，非必填项，点击发送按钮，调用 nodemailer 发送该模板邮件到指定收件人邮箱。
   - 点击查看按钮后，弹出一个模态框，展示该模板的完整 html 内容，下方有发送按钮，点击后弹出发送表单模态框。

5. 确保所有 UI 组件均使用 ant design 组件库实现。
6. 确保前端逻辑和状态管理均使用 Zustand 实现。
7. Gmail SMTP 配置文件可参照

```ts
export const emailConfig = {
  smtp: {
    host: smtpHost,
    port: smtpPort,
    secure: smtpSecure,
    auth: {
      user: smtpUser,
      pass: smtpPassword,
    },
    tls: {
      rejectUnauthorized: false,
    },
  },
  from: {
    name: fromName,
    email: smtpUser, // 发件人邮箱与 SMTP 认证账户一致
  },
  // 回复地址（可选，提高邮件可信度）
  replyTo: {
    name: fromName,
    email: smtpUser,
  },
  recipients: [], // 默认收件人列表
  sendOptions: {
    retryTimes,
    retryDelay,
  },
};
```
